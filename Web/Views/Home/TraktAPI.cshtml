@{
    ViewBag.Title = "TraktAPI";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@ViewBag.Message</h2>

<script src="~/Scripts/TraktAPI/traktApp.js"></script>
<script src="~/Scripts/TraktAPI/traktAPIController.js"></script>

<div ng-app="traktApp" ng-controller="traktAPIController">
    <form>
        <input ng-model="searchtext" type="text" id="searchText" name="searchText" />
        <input type="submit" ng-click="getData()" id="fetchData" value="Get data" />
    </form>
    <div style="padding-bottom: 5px"></div>

    <table class="table">
        <tr>
            <th>
                Poster
            </th>
            <th>
                Title
            </th>
            <th>
                Type
            </th>
            <th>
                Release Year
            </th>
            <th>
                Trailer Link
            </th>
            <th>
                imdb link
            </th>
        </tr>

        <tr ng-repeat="dataItem in searchData">
            <td>
                <img class="img-rounded" height="100px" src="{{dataItem.images.poster}}" />
            </td>
            <td>
                {{dataItem.title}}
            </td>
            <td>
                {{dataItem.type}}
            </td>
            <td>
                {{dataItem.year}}
            </td>
            <td>
                <a href="{{dataItem.trailer}}" target="_blank">{{dataItem.trailer}}</a>
            </td>
            <td>
                <a href="http://www.imdb.com/title/{{dataItem.imdb_id}}" target="_blank">{{dataItem.imdb_id}}</a>
            </td>
        </tr>
    </table>
</div>

@*<div ng-app="mainApp">
    <div ng-controller="guildWarsController">
        <div id="myList">
            <div ng-repeat="item in items">
                ID: {{item}}
            </div>
        </div>
    </div>
</div>*@